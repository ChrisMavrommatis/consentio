!function(o,n,e){const t=n.querySelector("script[data-consentio-loader]");if(!t)return void e.error("[Consentio Loader] script not found");const i="true"===t.dataset.consentioLoaderDebug,r=t.getAttribute("src"),s=r.substring(0,r.lastIndexOf("/")+1),a=r.includes(".min.js"),d=t.dataset.consentioConfig||null,c=t.dataset.consentioCookies||null;if(o.ConsentioInstance)return void(i&&e.warn("[Consentio Loader] Consentio is already initialized"));const l=n.createElement("script");l.src=`${s}consentio${a?".min":""}.js`,n.head.appendChild(l),l.onload=async function(){if("function"!=typeof o.Consentio)return void e.error("[Consentio Loader] Constructor not found after script load");let n={},t=[],r=[];d&&(i&&e.info("[Consentio Loader] Config URL:",d),r.push(d)),c&&(i&&e.info("[Consentio Loader] Cookies URL:",c),r.push(c));try{if(r.length>0){const o=await(s=r,Promise.all(s.map(o=>function(o){return new Promise((n,e)=>{fetch(o).then(o=>(o.ok||e(`HTTP error! status: ${o.status}`),o.json())).then(o=>n(o)).catch(o=>e(`Fetch error: ${o}`))})}(o))));let a=0;d&&(n=o[a++],i&&e.info("[Consentio Loader] Config loaded:",n)),c&&(t=o[a++],i&&e.info("[Consentio Loader] Cookies loaded:",t)),o.length>a&&e.warn("[Consentio Loader] More resources loaded than expected")}o.ConsentioInstance=new o.Consentio(n,t,e),e.info("[Consentio Loader] Initialized successfully")}catch(o){e.error("[Consentio Loader] Initialization failed:",o)}var s},l.onerror=async function(){e.error("[Consentio Loader] Failed to load script:",l.src)}}(window,document,console,customElements);